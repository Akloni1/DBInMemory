version: '3.4'

networks:
  services-network:
    driver: bridge 

services:
  nosqldbinmemory5:
    container_name: nosqldbinmemory5
    image: nosqldbinmemory:latest
    build:
      context: NoSqlDBInMemory
      dockerfile: Dockerfile
    ports:
      - "5055:80"
    networks:
      - services-network
    depends_on:
      - apache

  apache:
    container_name: apache
    image: apacheignite/ignite
    ports:
      - "10800:10800"
    networks:
      - services-network
    command: ["/opt/ignite/apache-ignite/bin/ignite.sh", "-J-DIGNITE_CLIENT_CONNECTOR_MAX_OPEN_CURSORS_PER_CONN=10000", "-J-DIGNITE_CLIENT_CONNECTOR_MAX_CONNECTIONS=1000"]